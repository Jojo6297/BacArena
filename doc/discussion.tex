\subsection{General discussion}


\subsubsection{Diffusion and movement}
In agent based modeling two different modes for updating can be distinguished:
A synchronous mode updates all cells simultaneously, i.e. local changes are stored in a temporary copy and will be updated after the computation of all cells.
Contrary to this, a asynchronous mode updates changes immediately (\cite{Matthies2002} p. 92).\\
In our study we implemented for the rules (movement, diffusion) applied to agents a naive model, which relies on the asynchronous update with randomly chosen cells.
For the diffusion of agents this method is preferred, because i) synchronous updates would violate conservation laws by the production of additional metabolite concentrations and ii) non-random asynchronous updates cause a biased diffusion direction \cite{Bandman1999}.
As indicated in Figure \hyperref[fig:diff]{\ref{fig:diff}} the spreading of metabolite concentrations causes the increase of entropy in the system, which is also observed as a physical phenomenon in microbial communities \cite{Wetzel93}.
Additional refinements can be realized with more sofisticated diffusion models such as block-rotation \cite{Bandman1999} or the discrete diffusion model by Grajdeanu \cite{Grajdeanu2007}.
Different diffusion coefficients could of certain metabolites could be also included to model the varying dispersal speeds.\\
The bacterial movement was implemented similar to the diffusion model as a random spread on the grid environment (Figure \hyperref[fig:mov]{\ref{fig:mov}}).
Since most bacteria are able to sense the metabolite concentrations in their environment and show a directed motion to the substrate of choice \cite{Francisco13}, the movement model can be refined by interaction of the bacterial agents with the substrates.
A chemotaxis model would also probably allow the observation of more complex behaviours such as the aggregation to certain parts of the grid environment.

\subsubsection{Time consumption}
FBA calculation of substrate exchange can take $2\,min$ per time step for $180$ bacteria in big \textit{E. coli} model ($1972\times 2382$ metabolites and substrates).
This leads to an overall calculation time of the introduced population model \ref{Bcoli} of some hours.
In comparison to the \textit{E. coli} ($77\times 77$) core model, which needs only $2\,s$ per time step for $180$ bacteria.
Almost all time is spent for fba calculation.
For this reason we see further improvements in terms of two points:
\begin{enumerate}
  \item Hashing. Implementation of a first fba memory table, which saves prior calculations, is done.
    The effects should be benchmarked largely.
  \item Starting base. \textit{lpsolve} offers since version $5.1.05$ the possibility to find a basis according to some guess vector (old solution).
    With this basis the optimal solution of the optimization problem \textit{can} be faster \cite{warmstart}.
\end{enumerate}

\subsection{Population models of single organisms}
All population models show similarities in their growth curves (Figure \hyperref[fig:ecoresg]{\ref{fig:ecoresg}}, \hyperref[fig:ecolisg]{\ref{fig:ecolisg}}, \hyperref[fig:barkerisg]{\ref{fig:barkerisg}} and \hyperref[fig:beijersg]{\ref{fig:beijersg}}).
Roughly, the observed growth can be separated into three phases: the exponential, the stationary and the death phase. Those phases are also observed in experimental studies of microbial growth ( *).
During the exponential phase all substrates are efficiently used by the fba to accumulate biomass, which is then used for duplication. In the stationary phase almost all substrates were exploited and the fba does not find any feasible solution, which results in the reduction of biomass. Subsequently, bacterial agents are removed, if the biomass is below zero, which leads to the death phase.

According to experimental studies \cite{Varma94}, the time for \emph{E. coli} to reach the stationary phase is about 8\;h, which is in contradiction to the observed time of approximately 39\;h in our study (Figure \hyperref[fig:ecoresg]{\ref{fig:ecoresg}}). This can be explained by the used artificial media composition, which might not be sufficient for an optimal growth.
Moreover, the substrate concentrations were set to not empirically justified arbitrary values. Further refinements of substrate concentrations could thus increase the accuracy of the model to match experimental results. Additionally, the constraints of the used exchange reactions can also be refined to more realistic values.

The observed growth of \emph{E. coli} (Figure \hyperref[fig:ecoresg]{\ref{fig:ecoresg}}) can be mainly characterized by the aerobic respiration of glucose by 
\[
  \textrm{C}_{6}\textrm{H}_{12}\textrm{O}_{6} + 6\textrm{O}_2 \rightarrow 6\textrm{CO}_{2} + 6 \textrm{H}_{2}\textrm{O}
\]
where one molecule of glucose and 6 molecules of oxygen are consumed to produce 6 molecules of CO$_2$ and water. According to the stochiometry of this reaction more oxygen was consumed by the model compared to glucose (Figure \hyperref[fig:ecolisg]{\ref{fig:ecolisg}}). Additionally, various fermentation products are produced via mixed acid fermentation under aerobic conditions (Figure \hyperref[fig:ecoresg]{\ref{fig:ecoresg}}), which is in concordance to experimental studies \cite{Sunya13}.
In these studies, formate is only produced under anaerobic conditions. Interestingly, the production of formate is observed under aerobic conditions in \emph{E. coli} core, whereas \emph{E. coli} big does not produce formate (Figure \hyperref[fig:ecoresg]{\ref{fig:ecoresg}}).
Furthermore, the smaller \emph{E. coli} model produces overall more fermentation products relative to CO$_2$. This can be explained by the additional pathways present in the more representative larger \emph{E. coli} model, which make the complete mineralization of glucose to CO$_2$ more preferable in the fba optimization.
Since the complete mineralization of glucose would be more preferable in the larger \emph{E. coli} model, the applied uptake constraints (Table \hyperref[ab:const]{\ref{tab:const}}) allowed the production of fermentation products.

The growth of \emph{M. barkeri} (Figure \hyperref[fig:barkerisg]{\ref{fig:barkerisg}}) can be explained by the fermentation of methanol to methane with
\[
  4\textrm{CH}_{3}\textrm{OH} \rightarrow 3\textrm{CH}_{4} + \textrm{CO}_{2} + 2\textrm{H}_{2}\textrm{O}
\]
where 4 molecules of methanol are consumed to produce 3 molecules of methane, 2 of water and 1 molecule CO$_2$.
The stochiometry of this was fulfilled by the higher production of methane compared to CO$_2$ (Figure \hyperref[fig:barkerisg]{\ref{fig:barkerisg}}). However, water was, similar to methane, produced in high amounts, which can be explained by additional reactions in the model, which might lead to water production.
In experimental studies the stationary phase of \emph{M. barkeri} under the consumption of methanol is reached after 72\;h \cite{Hippe79} which is in concordance to our observed time of approximately 80\;h. 

\textit{C. beijerinckii} is able to ferment glucose to various fermentation products 

\subsection{Interactions in mixed communities}
\textit{M. barkeri} and \textit{C. beijerinckii} are possible syntrophic organisms.
\textit{C. beijerinckii} produces CO$_2$ and hydrogen, which could be used to grow by \textit{M. barkeri}.
In our mixed culture this phenomen occurs, too.
\textit{C. beijerinckii} starts growing and produces a lot of CO$_2$ and hydrogen.
After consuming all substrate (here glucose) \textit{C. beijerinckii} declines and makes room for \textit{M. barkeri}.
\textit{M. barkeri} could survive the whole time thanks to the metabolic products of \textit{C. beijerinckii} and grows with delay.


\subsection{Conclusions \& outlook}
In the last years a lot of work was done to build up models for single organisms.
This model are capable to reproduce experimental results and permits even quantitative prognosis \cite{mccloskey}.
Recently voices were being raised, who pointed the future direction of research towards a community systems biology:
\begin{quote}
,,We anticipate that, through the use of bottom-up approaches supplemented with meta-omics data, the success of systems biology for individual organisms will now be extended to communities of organisms, and in particular to microbial communities.'' \cite{cosys}
\end{quote}
We implemented such bottum up approach in our agent based model, which uses the established strength of individual models to simulate metabolic interactions and even syntrophy between communities of \textit{in silico} species.
